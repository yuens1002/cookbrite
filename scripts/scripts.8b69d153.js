"use strict";angular.module("cookbriteApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ui.bootstrap","ngStorage","angularGrid","ngTouch"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/save",{templateUrl:"views/save.html",controller:"SaveCtrl",controllerAs:"save"}).otherwise({redirectTo:"/"})}]),angular.module("cookbriteApp").controller("MainCtrl",["$scope","$localStorage","recipes","angularGridInstance",function(a,b,c,d){a.isCollapsed=!0,a.reflow=function(){d.gallery.refresh()},a.popSearch={content:"Recipe search can be done by entering an ingredient or name.  For more than one ingredient, enter each ingredient followed by a comma.  For example: walnut, apple, salad",title:"Search Tips"},a.isSaved=function(a){for(var c=0;c<b.savedRecipes.length;c++)if(b.savedRecipes[c].id==a)return!0},a.headerSpacing="blinkPage",a.logo="brand2",a.storage=b,a.saveRecipe=function(c){var d={label:c.recipe.label,image:c.recipe.image,ingredients:c.recipe.ingredientLines,source:c.recipe.source,servings:c.recipe["yield"],source_url:c.recipe.url,calories:c.recipe.calories,id:c.recipe.uri};if(a.alerts=[{type:"success",msg:"Recipe Saved!",recipeID:d.id}],b.savedRecipes){for(var e=!0,f=0;f<b.savedRecipes.length;f++)b.savedRecipes[f].id==d.id&&(e=!1);e===!0&&(b.savedRecipes.push(d),a.storage=b,a.alerts[0])}else b.savedRecipes=[d],a.storage=b,a.alerts[0]},a.closeAlert=function(b){a.alerts.splice(b,1),d.gallery.refresh()},a.isEnterKey=function(b){13===b.keyCode&&a.getRecipes()},a.getRecipes=function(){a.ingredient?(a.searchString=a.ingredient,a.recipes=c.query({ingredient:a.ingredient}),a.ingredient="",document.getElementById("searchInput").placeholder="recipe search by ingredient or name",a.headerSpacing="page",a.logo="brand",window.location.href="#/main"):(document.getElementById("searchInput").placeholder="try entering an ingredient here...",document.getElementById("searchInput").className+=" animated shake")}}]),angular.module("cookbriteApp").factory("recipes",["$resource",function(a){return a("https://api.edamam.com/search?&q=:ingredient&from=:starting&to=:ending&app_id=c3607cc5&app_key=3f6cc51402ce76557eabe753c575c891",{callback:"JSON_CALLBACK"},{query:{method:"JSONP",params:{starting:"0",ending:"12"},isArray:!1}})}]),angular.module("cookbriteApp").controller("SaveCtrl",["$scope","$localStorage","angularGridInstance",function(a,b,c){a.isCollapsed=!0,a.reflow=function(){c.gallery.refresh()},a.savedRecipes=b.savedRecipes,a.delRecipe=function(a){var c=b.savedRecipes.indexOf(a);b.savedRecipes.splice(c,1)}}]),angular.module("cookbriteApp").factory("styleIt",["$resource",function(a){return a({headerSpacing:"blinkPage",logo:"brand2"})}]),angular.module("cookbriteApp").run(["$templateCache",function(a){a.put("views/main.html",'<div ng-if="recipes" class="container"> <hr> <ul class="list-inline"> <li class="navbar-brand"> <svg height="50px" viewbox="0 0 50 72" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <!-- Generator: Sketch 3.7.2 (28276) - http://www.bohemiancoding.com/sketch --> <title>red right arrow</title> <desc>red right arrow</desc> <defs></defs> <g id="red-arrow" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="red-arrow" transform="translate(-78.000000, -222.000000)" stroke-width="3" stroke="#F10724"> <polyline id="red-arrow" points="80 224 114.016678 256.98959 80 292.856415"></polyline> </g> </g> </svg> </li> <li> <p class="navbar-text"><span class="h3 text-capitalize">{{searchString}}</span><br><span class="text-uppercase h6">showing <span class="h4">{{recipes.to}}</span> recipes of <span class="h4">{{recipes.count}}</span> found</span><br><br></p> </li> </ul> <div class="dynamic-grid row" ag-id="gallery" angular-grid="recipes.hits" ag-options="angularGridOptions"> <div ng-repeat="eachRecipe in recipes.hits" class="col-sm-6 col-md-4 grid"> <div class="thumbnail"> <!-- only show badge if id of the item is in browser storage --> <a href ng-href="#/save" ng-if="isSaved(eachRecipe.recipe.uri)"><span class="label label-danger animated zoomIn"><span class="glyphicon glyphicon-heart"></span></span></a> <img ng-src="{{eachRecipe.recipe.image}}" alt="{{eachRecipe.recipe.label}}"> <div class="caption"> <h3>{{eachRecipe.recipe.label}}</h3> <p>by {{eachRecipe.recipe.source}}<br><a ng-href="{{eachRecipe.recipe.url}}" target="_blank" class="text-capitalize">Read cooking instructions</a></p> <p> <span class="h4">{{eachRecipe.recipe.ingredientLines.length}}</span> Ingredients <a href ng-click="isCollapsed = !isCollapsed"><span class="h4"><span class="glyphicon glyphicon-menu-down"></span></span></a> <br> <span class="h4">{{(eachRecipe.recipe.calories / eachRecipe.recipe.yield) | number:0}}</span> Cal/Srv of <span class="h4">{{eachRecipe.recipe.yield}}</span> </p> <ul uib-collapse="isCollapsed" expanded="reflow()" collapsing="reflow()"><li ng-repeat="listIngredient in eachRecipe.recipe.ingredientLines">{{listIngredient}}</li></ul> <hr ng-show="!isSaved(eachRecipe.recipe.uri)"> <uib-alert ng-if="alert.recipeID==eachRecipe.recipe.uri" ng-repeat="alert in alerts" type="{{alert.type}}" dismiss-on-timeout="2000" close="closeAlert($index)">{{alert.msg}}</uib-alert> <!-- only show button if id of the item isn\'t in browser storage --> <a href ng-show="!isSaved(eachRecipe.recipe.uri)" ng-click="saveRecipe(eachRecipe)" class="btn btn-default" role="button"><span class="glyphicon glyphicon-heart-empty"></span> Save</a> </div> </div> </div> </div> </div>'),a.put("views/save.html",'<div ng-if="savedRecipes" class="container"> <hr> <ul class="list-inline"> <li class="navbar-brand"> <svg height="50px" viewbox="0 0 50 72" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <!-- Generator: Sketch 3.7.2 (28276) - http://www.bohemiancoding.com/sketch --> <title>red right arrow</title> <desc>red right arrow</desc> <defs></defs> <g id="Search-Listing" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Desktop-HD" transform="translate(-78.000000, -222.000000)" stroke-width="3" stroke="#F10724"> <polyline id="right-arrow" points="80 224 114.016678 256.98959 80 292.856415"></polyline> </g> </g> </svg> </li> <li> <p class="navbar-text"><span class="glyphicon glyphicon-heart" alt="saved"></span> <span class="h3">Recipes</span><br><span class="text-uppercase h6">showing <span class="h4">{{savedRecipes.length}}</span> On Your List</span><br><br></p> </li> </ul> <div class="dynamic-grid row" angular-grid="savedRecipes" ag-id="gallery"> <div ng-repeat="recipe in savedRecipes | orderBy:\'-\'" class="col-sm-6 col-md-4 grid"> <div class="thumbnail"> <img ng-src="{{recipe.image}}" alt="{{recipe.label}}"> <div class="caption"> <h3>{{recipe.label}}</h3> <p>by {{recipe.source}}<br><a href ng-href="{{recipe.source_url}}" target="_blank" class="text-capitalize">Read cooking instructions</a></p> <p> <span class="h4">{{recipe.ingredients.length}}</span> Ingredients <a href ng-click="isCollapsed = !isCollapsed"><span class="h4"><span class="glyphicon glyphicon-menu-down"></span></span></a> <br> <span class="h4">{{(recipe.calories / recipe.servings) | number:0}}</span> Cal/Srv of <span class="h4">{{recipe.servings}}</span> </p> <ul uib-collapse="isCollapsed" expanded="reflow()" collapsing="reflow()"><li ng-repeat="Ingredient in recipe.ingredients">{{Ingredient}}</li></ul> <hr> <a ng-click="delRecipe(recipe)" class="btn btn-default" role="button"><span class="glyphicon glyphicon-remove"></span> Delete</a> </div> </div> </div> </div> </div>')}]);